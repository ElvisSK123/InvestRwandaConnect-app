{
  "name": "Document",
  "type": "object",
  "properties": {
    "investment_id": {
      "type": "string",
      "description": "Reference to investment"
    },
    "listing_id": {
      "type": "string",
      "description": "Reference to listing"
    },
    "document_type": {
      "type": "string",
      "enum": [
        "investment_agreement",
        "nda",
        "term_sheet",
        "share_certificate",
        "escrow_agreement",
        "due_diligence_report",
        "other"
      ],
      "description": "Type of document"
    },
    "document_url": {
      "type": "string",
      "description": "URL to the document"
    },
    "generated": {
      "type": "boolean",
      "default": false,
      "description": "Whether document was auto-generated"
    },
    "signed_by_investor": {
      "type": "boolean",
      "default": false
    },
    "signed_by_seller": {
      "type": "boolean",
      "default": false
    },
    "investor_signature_date": {
      "type": "string",
      "format": "date-time"
    },
    "seller_signature_date": {
      "type": "string",
      "format": "date-time"
    },
    "status": {
      "type": "string",
      "enum": [
        "draft",
        "pending_signature",
        "signed",
        "archived"
      ],
      "default": "draft"
    },
    "metadata": {
      "type": "object",
      "properties": {
        "investor_name": {
          "type": "string"
        },
        "seller_name": {
          "type": "string"
        },
        "amount": {
          "type": "number"
        },
        "date": {
          "type": "string"
        }
      }
    }
  },
  "required": [
    "investment_id",
    "document_type"
  ]
}